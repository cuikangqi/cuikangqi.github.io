window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=o[c]={exports:{}};e[c][0].call(l.exports,function(t){return i(e[c][1][t]||t)},l,l.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AtlasItemScript:[function(t,e,o){"use strict";cc._RF.push(e,"48e5cMbPOlG7qGXvEuaVc5A","AtlasItemScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../StoreScript"),s=t("../AudioManager"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shareBtn=null,e.chanchuNode=null,e.nameLabel=null,e.raceLabel=null,e.desLabel=null,e.coinsLabel=null,e.iocn=null,e.yingzi=null,e.hideIcon=[],e.showIcon=[],e}return i(e,t),e.prototype.init=function(t,e,o){this.isUnlock(t)?(this.nodeActive(!0),this.nameLabel.string=e.name,this.raceLabel.string=e.race,this.desLabel.string=e.des,this.coinsLabel.string="x"+e.produce,this.iocn.spriteFrame=this.showIcon[o]):(this.nodeActive(!1),this.nameLabel.string="\u6211\u662f\u8c01\uff1f",this.iocn.spriteFrame=this.hideIcon[o])},e.prototype.isUnlock=function(t){var e=c.default.getItem("userPets");return!!(e&&e.pets.indexOf(t)>=0)},e.prototype.nodeActive=function(t){this.shareBtn.active=t,this.chanchuNode.active=t,this.raceLabel.node.active=t,this.desLabel.node.active=t,this.yingzi.active=t},e.prototype.shareClick=function(){s.default.getInstance().playFx("btn")},r([l(cc.Node)],e.prototype,"shareBtn",void 0),r([l(cc.Node)],e.prototype,"chanchuNode",void 0),r([l(cc.Label)],e.prototype,"nameLabel",void 0),r([l(cc.Label)],e.prototype,"raceLabel",void 0),r([l(cc.Label)],e.prototype,"desLabel",void 0),r([l(cc.Label)],e.prototype,"coinsLabel",void 0),r([l(cc.Sprite)],e.prototype,"iocn",void 0),r([l(cc.Node)],e.prototype,"yingzi",void 0),r([l([cc.SpriteFrame])],e.prototype,"hideIcon",void 0),r([l([cc.SpriteFrame])],e.prototype,"showIcon",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../AudioManager":"AudioManager","../StoreScript":"StoreScript"}],AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"da718uRmmtED6A/XOqXwbvJ","AudioManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.sound_path="resources/sound",this.sounds={},this.enabled=!0,this.music=""}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.addSound=function(t,e){this.sounds[t]=e},t.prototype.playFx=function(t,e){void 0===e&&(e=!1),this.enabled&&cc.audioEngine.playEffect(this.sounds[t],e)},t.prototype.stopFx=function(){cc.audioEngine.stopAllEffects()},t.prototype.playMusic=function(t){this.music=t,this.enabled&&cc.audioEngine.playMusic(this.sounds[t],!0)},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.pauseMusic=function(){this.playMusic(this.music)},t.prototype.setEnabled=function(t){this.enabled=t,this.enabled?this.playMusic(this.music):cc.audioEngine.stopAll()},t.prototype.getEnable=function(){return this.enabled},t}();o.default=n,cc._RF.pop()},{}],BottleScript:[function(t,e,o){"use strict";cc._RF.push(e,"a1076Vc1EdOUK6XdvFfdh9w","BottleScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../StoreScript"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waterDi=null,e.waterBar=null,e.pingzi=null,e.s_water=null,e.water=null,e.x_water=null,e.waterDiFrame=[],e.waterBarFrame=[],e.pingziFrame=[],e}return i(e,t),e.prototype.start=function(){c.default.getItem("boxType")?(this.waterDi.spriteFrame=this.waterDiFrame[1],this.waterBar.spriteFrame=this.waterBarFrame[1],this.pingzi.spriteFrame=this.pingziFrame[1],this.water.getComponent(cc.Animation).play("water2"),this.water.getComponent(cc.Animation).playOnLoad=!0,this.s_water.getComponent(cc.Animation).play("s_water2"),this.s_water.getComponent(cc.Animation).playOnLoad=!0,this.x_water.getComponent(cc.Animation).play("x_water2"),this.x_water.getComponent(cc.Animation).playOnLoad=!0):(this.waterDi.spriteFrame=this.waterDiFrame[0],this.waterBar.spriteFrame=this.waterBarFrame[0],this.pingzi.spriteFrame=this.pingziFrame[0],this.water.getComponent(cc.Animation).play("water"),this.s_water.getComponent(cc.Animation).play("s_water"),this.x_water.getComponent(cc.Animation).play("x_water"))},r([p(cc.Sprite)],e.prototype,"waterDi",void 0),r([p(cc.Sprite)],e.prototype,"waterBar",void 0),r([p(cc.Sprite)],e.prototype,"pingzi",void 0),r([p(cc.Node)],e.prototype,"s_water",void 0),r([p(cc.Node)],e.prototype,"water",void 0),r([p(cc.Node)],e.prototype,"x_water",void 0),r([p([cc.SpriteFrame])],e.prototype,"waterDiFrame",void 0),r([p([cc.SpriteFrame])],e.prototype,"waterBarFrame",void 0),r([p([cc.SpriteFrame])],e.prototype,"pingziFrame",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../StoreScript":"StoreScript"}],ConfManager:[function(t,e,o){"use strict";cc._RF.push(e,"35686mluFFK9LrXSQRzQuLg","ConfManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.petsSkin=o.PetsConf=o.homeVo=o.homeConf=o.petsVo=o.ConfManager=void 0;o.ConfManager=function(t){for(var e in this.petConf=t,t)this.petConf[e]=new n(t[e])};var n=function(t){this.speed=0,this.direction=[],this.time=0,this.speed=t.speed,this.direction=t.direction,this.time=t.time};o.petsVo=n;o.homeConf=function(t){for(var e in this.homedata=t,t)this.homedata[e]=new i(t[e])};var i=function(t){this.id="",this.name="",this.unlock=0,this.num=0,this.id=t.id,this.name=t.name,this.unlock=t.unlock,this.num=t.num};o.homeVo=i;o.PetsConf=function(t){for(var e in this.name="",this.race="",this.des="",this.produce=0,this.skin={},this.name=t.name,this.race=t.race,this.des=t.des,this.produce=t.produce,t.skin)this.skin[e]=new r(t.skin[e])};var r=function(t){this.skin_name="",this.skin_unlock=0,this.skin_num=0,this.skin_des="",this.pets="",this.pets=t.pets,this.skin_name=t.skin_name,this.skin_unlock=t.skin_unlock,this.skin_num=t.skin_num,t.skin_des&&(this.skin_des=t.skin_des)};o.petsSkin=r,cc._RF.pop()},{}],EventTarget:[function(t,e,o){"use strict";cc._RF.push(e,"4a4e01N2UxL97tsQfMMbLar","EventTarget");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.emit=function(t,e){this.em.emit(t,e)},Object.defineProperty(e,"on",{get:function(){return this.em},enumerable:!1,configurable:!0}),e.off=function(t){for(var e=0;e<t.length;e++)this.em.off(t[e])},e.em=new cc.EventTarget,r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],HomeScript:[function(t,e,o){"use strict";cc._RF.push(e,"08cc3jblk5D/beZOCFWjX63","HomeScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./AudioManager"),s=t("./EventTarget"),a=t("./PopupManager"),p=t("./Utils"),l=t("./StoreScript"),u=t("./poupScript/addCoinsScript"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.petsNode=null,e.petIcon=[],e.coinsPrefab=null,e.suoNode=null,e.petName="",e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.initBoard(),s.default.on.on("unlock",function(e){t.updateView(e)}),this.updateInfo(),this.homeUnlock(),s.default.on.on("updateSkin",function(e){t.showPets(e)})},e.prototype.start=function(){},e.prototype.homeUnlock=function(){var t=this,e=l.default.getItem("userHome");if(e)for(var o=e.home,n=0;n<o.length;n++)this.node.name==o[n]&&(this.suoNode.active=!1,cc.loader.loadRes("texture/"+this.node.name,cc.SpriteAtlas,function(e,o){t.node.color=cc.color(255,255,255),t.node.getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame(t.node.name+"_bg")}))},e.prototype.updateInfo=function(){var t=l.default.getItem("userPets");if(t)for(var e=0;e<t.pets.length;e++)this.showPets(t.pets[e]);this.homeUnlock()},e.prototype.showPets=function(t){if(p.default.homePets[t]==this.node.name){this.petName=t;var e=l.default.getNowSkin(t),o=l.default.getItem("userPets");o&&o.pets.includes(t)&&(this.petsNode.getComponent(cc.Sprite).spriteFrame=this.petIcon[e]),this.unschedule(this.addCoinsAnim),this.schedule(this.addCoinsAnim,5)}},e.prototype.addCoinsAnim=function(){var t=this;cc.tween(this.petsNode).to(.2,{scale:.21}).to(.4,{scale:.2}).call(function(){var e=p.default.petsMap.get(t.petName).produce,o=cc.instantiate(t.coinsPrefab);t.petsNode.addChild(o),o.x=t.petsNode.x,o.y=t.petsNode.y+t.petsNode.height/2,o.getComponent(u.default).init(e,o.y)}).start()},e.prototype.init=function(t){for(var e in t){var o=this.getChilde(e);o&&1==t[e].type&&this.removeNodeChild(o)}},e.prototype.initBoard=function(){for(var t=0;t<this.node.children.length;t++){var e=this.node.children[t];e.addComponent(cc.Button),this.bindClickEvent(e.getComponent(cc.Button),t)}},e.prototype.bindClickEvent=function(t,e){var o=new cc.Component.EventHandler;o.target=this.node,o.component="HomeScript",o.handler="callBack",o.customEventData=""+e,t.clickEvents.push(o)},e.prototype.callBack=function(t){if(!(t.currentTarget.click_type||t.currentTarget.name.indexOf("wo")>-1))if(c.default.getInstance().playFx("btn"),t.currentTarget.name.indexOf("pets")>=0)a.default.getInstance().showUi("PopupPets",t.currentTarget.name);else{var e=t.currentTarget.name,o=p.default.homeMap.get(this.node.name).homedata[e];a.default.getInstance().showUi("PopupUnlock",o)}},e.prototype.getChilde=function(t){for(var e=0;e<this.node.children.length;e++){var o=this.node.children[e];if(o.name===t)return o}return null},e.prototype.removeNodeChild=function(t){for(var e=0;e<t.children.length;e++)t.children[e].active=!1,t.getChildByName(t.name+"_b").active=!0,t.getChildByName("jiahao").active=!1,t.click_type=!0},e.prototype.updateView=function(t){var e=this.getChilde(t.name);e&&1==t.type&&this.removeNodeChild(e)},e.prototype.unlockHome=function(){c.default.getInstance().playFx("btn"),s.default.emit("unlockHome",this.node.name)},r([f(cc.Node)],e.prototype,"petsNode",void 0),r([f([cc.SpriteFrame])],e.prototype,"petIcon",void 0),r([f(cc.Prefab)],e.prototype,"coinsPrefab",void 0),r([f(cc.Node)],e.prototype,"suoNode",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./AudioManager":"AudioManager","./EventTarget":"EventTarget","./PopupManager":"PopupManager","./StoreScript":"StoreScript","./Utils":"Utils","./poupScript/addCoinsScript":"addCoinsScript"}],LoginScript:[function(t,e,o){"use strict";cc._RF.push(e,"52c90+EjzROYZbMmwiSpa5O","LoginScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./AudioManager"),s=t("./Utils"),a=cc._decorator,p=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingBar=null,e}return i(e,t),e.prototype.onLoad=function(){this.loadSounds(),s.default.loaderConf(),s.default.homeConf(),s.default.petsConf(),this.loadHome(),s.default.petsSkin()},e.prototype.loadSounds=function(){cc.loader.loadResDir("sound",cc.AudioClip,function(t,e){if(t)console.log("err",t);else for(var o=0;o<e.length;o++)c.default.getInstance().addSound(e[o].name,e[o])})},e.prototype.loadHome=function(){cc.loader.loadResDir("Prefab/Home",cc.Prefab,function(t,e){s.default.homePrefabList=e})},e.prototype.start=function(){},e.prototype.update=function(t){var e=this.loadingBar.progress;if(e>=1)return this.loadingBar.node.active=!1,this.enabled=!1,void cc.director.loadScene("Main");e+=t,this.loadingBar.progress=e},r([l(cc.ProgressBar)],e.prototype,"loadingBar",void 0),r([p],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./AudioManager":"AudioManager","./Utils":"Utils"}],MainScript:[function(t,e,o){"use strict";cc._RF.push(e,"16c18qBQElMlYFukLQXOObI","MainScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./AudioManager"),s=t("./EventTarget"),a=t("./HomeScript"),p=t("./PopupManager"),l=t("./StoreScript"),u=t("./UnlockTipScript"),d=t("./Utils"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popupNode=null,e.homeNode=null,e.homeTop=null,e.coinsLabel=null,e.tipNode=null,e.unlockTipNode=null,e.box=null,e.caiDanType="",e.count=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;s.default.on.on("updateCoins",function(e){t.coinsLabel.string=""+e}),s.default.on.on("tip",function(e){t.tipNode.getChildByName("tipLabel").getComponent(cc.Label).string=e,t.showTip()}),s.default.on.on("updateHome",function(e){t.updateHome(),e&&p.default.getInstance().showUi("PopupGetPets",e,t.popupNode)}),s.default.on.on("unlockHome",function(e){t.unlockTipNode.active=!0,t.unlockTipNode.getComponent(u.default).init(e)}),s.default.on.on("homeUnlock",function(){t.updateHome()}),s.default.on.on("closeBox",function(){t.box.active=!1,t.box.y=1457,t.boxUpdate()}),s.default.on.on("removeCount",function(){t.count=0}),this.createrHome()},e.prototype.start=function(){this.coinsLabel.string=""+d.default.userCoins(),this.boxUpdate(),c.default.getInstance().playMusic("bgm_mainscene")},e.prototype.boxUpdate=function(){var t=this;l.default.getItem("boxType")||this.scheduleOnce(function(){t.box.active=!0,cc.tween(t.box).to(1,{y:t.homeNode.children[3].y+t.homeNode.children[3].height}).start()},30)},e.prototype.clickBox=function(){c.default.getInstance().playFx("btn"),p.default.getInstance().showUi("PopupWaterSkin",null,this.popupNode)},e.prototype.createrHome=function(){if(!l.default.getItem("pets")){var t={pets_0:{level:1},pets_1:{level:1}};l.default.setItem("pets",t)}l.default.getItem("userHome")||(t={home:["home_1","home_2"]},l.default.setItem("userHome",t));var e=d.default.homePrefabList;if(this.homeNode.childrenCount<e.length)for(var o=e.length-1;o>=0;o--){var n=cc.instantiate(e[o]);this.homeNode.addChild(n),this.initHomeData(n)}this.updateHome()},e.prototype.updateHome=function(){for(var t=0;t<this.homeNode.childrenCount;t++)this.homeNode.children[t].getComponent(a.default).updateInfo()},e.prototype.initHomeData=function(t){var e=l.default.getItem(t.name);e&&t.getComponent(a.default).init(e)},e.prototype.atlasBtn=function(){c.default.getInstance().playFx("btn"),p.default.getInstance().showUi("PopupAtlas",null,this.popupNode)},e.prototype.lookingForPetsBtn=function(){c.default.getInstance().playFx("btn"),p.default.getInstance().showUi("PopupGame",null,this.popupNode),c.default.getInstance().stopMusic()},e.prototype.skinBtn=function(){c.default.getInstance().playFx("btn"),p.default.getInstance().showUi("PopupSkin",null,this.popupNode)},e.prototype.showTip=function(){var t=this;this.tipNode.active=!0,cc.tween(this.tipNode).delay(1).to(1,{y:100,opacity:0}).call(function(){t.tipNode.active=!1,t.tipNode.y=0,t.tipNode.opacity=255}).start()},e.prototype.caidan=function(t,e){var o=this;if(this.caiDanType!=e?(this.caiDanType=e,this.count=1):this.count++,this.count>=3){console.log(l.default.getItem("easterEgg"));var n=l.default.getItem("easterEgg");if(n&&n.egg){if(n.egg.includes(e))return;p.default.getInstance().showUi("PopupEasterEgg",e)}else p.default.getInstance().showUi("PopupEasterEgg",e)}this.scheduleOnce(function(){o.count=0},5)},r([y(cc.Node)],e.prototype,"popupNode",void 0),r([y(cc.Node)],e.prototype,"homeNode",void 0),r([y(cc.Node)],e.prototype,"homeTop",void 0),r([y(cc.Label)],e.prototype,"coinsLabel",void 0),r([y(cc.Node)],e.prototype,"tipNode",void 0),r([y(cc.Node)],e.prototype,"unlockTipNode",void 0),r([y(cc.Node)],e.prototype,"box",void 0),r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"./AudioManager":"AudioManager","./EventTarget":"EventTarget","./HomeScript":"HomeScript","./PopupManager":"PopupManager","./StoreScript":"StoreScript","./UnlockTipScript":"UnlockTipScript","./Utils":"Utils"}],PetScript:[function(t,e,o){"use strict";cc._RF.push(e,"ee42644t6hL/qJYinivWHr+","PetScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./Utils"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tou=null,e.zui=null,e.fennu=null,e.daiji=null,e.kaixin=null,e.kuqi=null,e.zuiCol=null,e.lianCol=null,e.atlasList=[],e.shenti=null,e.xiangLian=null,e.weiba=null,e.lizi=null,e.type="daiji",e.pos=80,e.data=null,e.lastIndex=-1,e.fun=function(t){if(e.lastIndex!=t)e.lastIndex=t;else{var o=c.default.randomIndex(e.data.direction.length);e.fun(o)}return e.lastIndex},e}return i(e,t),e.prototype.start=function(){},e.prototype.showSkin=function(t){this.shenti.spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_shenti"),this.fennu.getComponent(cc.Sprite).spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_nu"),this.zui.getComponent(cc.Sprite).spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_hesui"),this.daiji.getComponent(cc.Sprite).spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_daiji"),this.kaixin.getComponent(cc.Sprite).spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_xuao"),this.kuqi.getComponent(cc.Sprite).spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_ku"),this.xiangLian&&(this.xiangLian.getComponent(cc.Sprite).spriteFrame=this.atlasList[t].getSpriteFrame("skin_"+t+"_tou_xianglian")),this.weiba&&(this.weiba.active=3==t)},e.prototype.move=function(t){t&&(this.data=t,this.ainm(),this.schedule(this.ainm,t.time))},e.prototype.ainm=function(){var t=this,e=c.default.randomIndex(this.data.direction.length),o=this.fun(e),n=0,i=0;switch(this.data.direction[o]){case 1:n=-this.pos,i=0;break;case 2:n=this.pos,i=0;break;case 3:n=0,i=this.pos;break;case 4:n=0,i=-this.pos;break;case 5:n=-this.pos,i=-this.pos;break;case 6:n=this.pos,i=-this.pos;break;case 7:n=this.pos,i=this.pos;break;case 8:n=-this.pos,i=this.pos}this.daiji.active=!0,this.fennu.active=!1,this.zui.active=!1,this.zuiCol.active=!1,this.lizi.active=!1,this.type="daiji",cc.tween(this.tou).to(this.data.speed,{position:cc.v3(n,i)}).call(function(){t.daiji.active=!1,t.zui.active=!0,t.zuiCol.active=!0}).start()},e.prototype.removeAnim=function(){this.tou.setPosition(cc.v3(0,0)),this.unschedule(this.ainm)},e.prototype.updateBiaoqing=function(t){"lian"==t?(this.fennu.active=!0,this.zui.active=!1,this.daiji.active=!1):"zui"==t&&(this.fennu.active=!1,this.zui.active=!0,this.daiji.active=!1),""==t&&("daiji"==this.type?(this.fennu.active=!1,this.daiji.active=!0):"zui"==this.type&&(this.zui.active=!0,this.fennu.active=!1))},r([p(cc.Node)],e.prototype,"tou",void 0),r([p(cc.Node)],e.prototype,"zui",void 0),r([p(cc.Node)],e.prototype,"fennu",void 0),r([p(cc.Node)],e.prototype,"daiji",void 0),r([p(cc.Node)],e.prototype,"kaixin",void 0),r([p(cc.Node)],e.prototype,"kuqi",void 0),r([p(cc.Node)],e.prototype,"zuiCol",void 0),r([p(cc.Node)],e.prototype,"lianCol",void 0),r([p([cc.SpriteAtlas])],e.prototype,"atlasList",void 0),r([p(cc.Sprite)],e.prototype,"shenti",void 0),r([p(cc.Sprite)],e.prototype,"xiangLian",void 0),r([p(cc.Node)],e.prototype,"weiba",void 0),r([p(cc.Node)],e.prototype,"lizi",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Utils":"Utils"}],PopupAtlas:[function(t,e,o){"use strict";cc._RF.push(e,"d1309vqdyBE2oerH3VjuVS9","PopupAtlas");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../PopupManager"),a=t("../Utils"),p=t("./AtlasItemScript"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.contentNode=null,e.itemNode=null,e}return i(e,t),e.prototype.onLoad=function(){this.showItem()},e.prototype.start=function(){},e.prototype.showItem=function(){var t=a.default.petsMap,e=Array.from(a.default.petsMap.keys());console.log(e);for(var o=0;o<e.length;o++){var n=cc.instantiate(this.itemNode);this.contentNode.addChild(n),n.getComponent(p.default).init(e[o],t.get(e[o]),o)}},e.prototype.closeBtn=function(){c.default.getInstance().playFx("btn"),s.default.getInstance().heidUi(this.node)},r([d(cc.Node)],e.prototype,"contentNode",void 0),r([d(cc.Prefab)],e.prototype,"itemNode",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../AudioManager":"AudioManager","../PopupManager":"PopupManager","../Utils":"Utils","./AtlasItemScript":"AtlasItemScript"}],PopupEasterEgg:[function(t,e,o){"use strict";cc._RF.push(e,"059dbx6T0FB05fckZKwPN6o","PopupEasterEgg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../EventTarget"),a=t("../PopupManager"),p=t("../StoreScript"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.iconArr=[],e.data="",e.obj={1:"pets_1",2:"pets_3"},e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(t){this.data=t,this.icon.spriteFrame="1"==t?this.iconArr[0]:this.iconArr[1]},e.prototype.closeNode=function(){c.default.getInstance().playFx("btn"),a.default.getInstance().heidUi(this.node),s.default.emit("removeCount")},e.prototype.videoClick=function(){c.default.getInstance().playFx("btn");var t=p.default.getItem("easterEgg");t?t.egg.push(""+this.data):t={egg:[""+this.data]},p.default.setItem("easterEgg",t),p.default.unlockSkin(this.obj[this.data],"skin_3"),c.default.getInstance().playFx("eff_skinunlock"),a.default.getInstance().heidUi(this.node)},r([d(cc.Sprite)],e.prototype,"icon",void 0),r([d([cc.SpriteFrame])],e.prototype,"iconArr",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../AudioManager":"AudioManager","../EventTarget":"EventTarget","../PopupManager":"PopupManager","../StoreScript":"StoreScript"}],PopupGame:[function(t,e,o){"use strict";cc._RF.push(e,"ae099UJiJJLK4/KPC7sRGPo","PopupGame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Utils"),s=t("../StoreScript"),a=t("../PetScript"),p=t("../EventTarget"),l=t("../AudioManager"),u=t("./gameOverScript"),d=t("../PopupManager"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startlabel=null,e.biaoNode=null,e.petNode=null,e.nameLabel=null,e.gameBar=null,e.kuangNode=null,e.coinsNode=null,e.coinsLabel=null,e.progressLabel=null,e.showPetNode=null,e.bottle=null,e.x_water=null,e.s_water=null,e.water=null,e.touchNode=null,e.petsList=[],e.waterBar=null,e.gameOver=null,e.gou=null,e.isXin=!1,e.petsLv=0,e.nameList={pets_0:"\u67ef\u57fa\u51fa\u73b0\u4e86",pets_1:"\u67f4\u72ac\u51fa\u73b0\u4e86",pets_2:"\u718a\u732b\u51fa\u73b0\u4e86",pets_3:"\u4ed3\u9f20\u51fa\u73b0\u4e86"},e.newPets="",e.petLevelConf=null,e.isWater=!1,e.isGameOver=!1,e.coins=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;cc.director.getCollisionManager().enabled=!0,cc.director.getCollisionManager().enabledDebugDraw=!0,p.default.on.on("collis",function(e){t.colliderLian(e)}),p.default.on.on("colBool",function(e){t.updateWater(e)}),p.default.on.on("back",function(e){p.default.emit("updateHome",e),p.default.emit("closeBox"),l.default.getInstance().playMusic("bgm_mainscene"),p.default.off(["back","collis","colBool","again"]),d.default.getInstance().heidUi(t.node)}),p.default.on.on("again",function(){t.waterBar.progress=1,t.gou.getComponent(a.default).move(t.petLevelConf),t.isGameOver=!1})},e.prototype.start=function(){this.typingAni(this.startlabel,"\u708e\u708e\u590f\u65e5\n\u5916\u51fa\u6563\u6b65\n\u4f60\u9047\u5230\u4e86\n\u3002\u3002\u3002",this.showAnim)},e.prototype.typingAni=function(t,e,o){var n=this,i="",r=e.split(""),c=r.length,s=0,a=function(){i+=r[s],t.string=i,++s==c&&(n.unschedule(a),o&&o(n))};this.schedule(a,.1,cc.macro.REPEAT_FOREVER,0)},e.prototype.showAnim=function(t){var e=t.startlabel.node;setTimeout(function(){cc.tween(e).to(1,{y:e.y+50,opacity:0}).call(function(){t.biaoNode.active=!0,setTimeout(function(){t.biaoNode.active=!1,t.showPets()},1400)}).start()},1e3)},e.prototype.showPets=function(){this.petNode.active=!0;var t=s.default.getItem("pets");if(console.log(t),t){var e=Object.keys(t),o=c.default.randomIndex(e.length);for(var n in t)n.indexOf(e[o])>-1&&(this.createrPets(n,t[n].level),this.newPets=n);this.nameLabel.node.active=!0,this.nameLabel.string=this.nameList[this.newPets]}},e.prototype.createrPets=function(t,e){void 0===e&&(e=1);var o=c.default.levelMap.get(t),n=this.getPetPrefab(t);if(n){var i=cc.instantiate(n);this.gou=i,this.showPetNode.addChild(i);var r=s.default.getNowSkin(this.gou.name);this.gou.getComponent(a.default).showSkin(r),e>c.default.petsMaxLevel?(this.petLevelConf=o.petConf.level_5,this.coinsNode.active=!0,this.coinsLabel.string="x0"):(this.petLevelConf=o.petConf["level_"+e],this.kuangNode.active=!0,this.progressLabel.string="0%"),this.petsLv=e,i.getComponent(a.default).move(this.petLevelConf)}l.default.getInstance().playMusic("bgm_test"),this.bottle.active=!0,this.touchFun()},e.prototype.getPetPrefab=function(t){for(var e=0;e<this.petsList.length;e++)if(this.petsList[e].name==t)return this.petsList[e];return null},e.prototype.touchFun=function(){this.touchNode.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.touchNode.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.touchNode.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.touchNode.on(cc.Node.EventType.TOUCH_CANCEL,this.touchEnd,this)},e.prototype.touchStart=function(t){if(l.default.getInstance().playFx("eff_startplay"),!(this.waterBar.progress<=0)){this.waterNodeTween();var e=this.node.convertToNodeSpaceAR(cc.v2(t.getLocation().x,t.getLocation().y));this.bottle.x=e.x,this.bottle.y=e.y+this.bottle.height/2}},e.prototype.touchMove=function(t){this.waterBar.progress<=0&&this.hideWater();var e=this.node.convertToNodeSpaceAR(cc.v2(t.getLocation().x,t.getLocation().y));this.bottle.x=e.x,this.bottle.y=e.y+this.bottle.height/2},e.prototype.touchEnd=function(){this.hideWater()},e.prototype.hideWater=function(){var t=this;cc.Tween.stopAllByTag(1),cc.tween(this.water).tag(2).to(.2,{height:10}).call(function(){t.s_water.active=!1,t.x_water.active=!1}).start(),this.isWater=!1},e.prototype.waterNodeTween=function(){var t=this;cc.Tween.stopAllByTag(2),this.water.active=!0,this.s_water.active=!0,this.x_water.active=!0,console.log(this.water.active,this.s_water.active,this.x_water.active),cc.tween(this.water).tag(1).to(.2,{height:850}).call(function(){t.isWater=!0}).start()},e.prototype.colliderLian=function(t){this.gou.getComponent(a.default).updateBiaoqing(t)},e.prototype.updateWater=function(t){this.isXin=t,this.isXin||this.unschedule(this.addCoins)},e.prototype.update=function(t){if(this.isXin&&0==this.gameOver.active&&(this.petsLv>c.default.petsMaxLevel?this.scheduleOnce(this.addCoins,6*t):(this.gameBar.progress+=.001,Math.ceil(this.gameBar.progress/1*100)<=100&&(this.progressLabel.string=Math.ceil(this.gameBar.progress/1*100)+"%"))),this.isWater&&(this.waterBar.progress-=8e-4),(this.gameBar.progress>=1||this.waterBar.progress<=0)&&!this.isGameOver){this.gameOver.active=!0,this.gameOver.getComponent(u.default).init(this.newPets,Math.ceil(this.gameBar.progress/1*100),this.petsLv,this.coins),this.gou.getComponent(a.default).removeAnim(),this.hideWater(),this.isGameOver=!0;var e=s.default.getItem("coins");e+=this.coins,s.default.setItem("coins",e)}},e.prototype.addCoins=function(){this.coins++,this.coinsLabel.string="x"+this.coins},r([y(cc.Label)],e.prototype,"startlabel",void 0),r([y(cc.Node)],e.prototype,"biaoNode",void 0),r([y(cc.Node)],e.prototype,"petNode",void 0),r([y(cc.Label)],e.prototype,"nameLabel",void 0),r([y(cc.ProgressBar)],e.prototype,"gameBar",void 0),r([y(cc.Node)],e.prototype,"kuangNode",void 0),r([y(cc.Node)],e.prototype,"coinsNode",void 0),r([y(cc.Label)],e.prototype,"coinsLabel",void 0),r([y(cc.Label)],e.prototype,"progressLabel",void 0),r([y(cc.Node)],e.prototype,"showPetNode",void 0),r([y(cc.Node)],e.prototype,"bottle",void 0),r([y(cc.Node)],e.prototype,"x_water",void 0),r([y(cc.Node)],e.prototype,"s_water",void 0),r([y(cc.Node)],e.prototype,"water",void 0),r([y(cc.Node)],e.prototype,"touchNode",void 0),r([y([cc.Prefab])],e.prototype,"petsList",void 0),r([y(cc.ProgressBar)],e.prototype,"waterBar",void 0),r([y(cc.Node)],e.prototype,"gameOver",void 0),r([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../AudioManager":"AudioManager","../EventTarget":"EventTarget","../PetScript":"PetScript","../PopupManager":"PopupManager","../StoreScript":"StoreScript","../Utils":"Utils","./gameOverScript":"gameOverScript"}],PopupGetPets:[function(t,e,o){"use strict";cc._RF.push(e,"031d7V/f1ROa5yZEBB3OmkJ","PopupGetPets");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../PopupManager"),a=t("../Utils"),p=cc._decorator,l=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLabel=null,e.icon=null,e.iconScript=[],e}return i(e,t),e.prototype.init=function(t){this.nameLabel.string=a.default.petsMap.get(t).name+"\u6765\u5566\uff01",this.icon.spriteFrame=this.iconScript[a.default.iconList[t]]},e.prototype.closeNode=function(){c.default.getInstance().playFx("btn"),s.default.getInstance().heidUi(this.node)},e.prototype.shareClick=function(){c.default.getInstance().playFx("btn"),s.default.getInstance().heidUi(this.node)},r([u(cc.Label)],e.prototype,"nameLabel",void 0),r([u(cc.Sprite)],e.prototype,"icon",void 0),r([u([cc.SpriteFrame])],e.prototype,"iconScript",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../AudioManager":"AudioManager","../PopupManager":"PopupManager","../Utils":"Utils"}],PopupManager:[function(t,e,o){"use strict";cc._RF.push(e,"39fd8bPxVJCLabwLqwwsbuJ","PopupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showArr={},e.popupArr={PopupAtlas:"Prefab/PopupAtlas",PopupUnlock:"Prefab/PopupUnlock",PopupGame:"Prefab/PopupGame",PopupPets:"Prefab/PopupPets",PopupGetPets:"Prefab/PopupGetPets",PopupSkin:"Prefab/PopupSkin",PopupWaterSkin:"Prefab/PopupWaterSkin",PopupEasterEgg:"Prefab/PopupEasterEgg"},e}var o;return i(e,t),o=e,e.getInstance=function(){return this.instance||(this.instance=new o),this.instance},e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.showUi=function(t,e,n){var i=this.popupArr[t];cc.resources.load(i,function(i,r){if(!i){var c=cc.instantiate(r);n||(n=cc.find("Canvas/popupNode")),c.setContentSize(cc.winSize),n.addChild(c),o.getInstance().showArr[t]=c,e&&c.getComponent(""+t).init(e)}})},e.prototype.heidUi=function(t){t.removeFromParent(),delete this.showArr[t.name]},o=r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],PopupPets:[function(t,e,o){"use strict";cc._RF.push(e,"43576WHYkhFrLmpBur5OhhK","PopupPets");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../PopupManager"),a=t("../StoreScript"),p=t("../Utils"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLabel=null,e.icon=null,e.desLabel=null,e.xinNode=null,e.iconScript=[],e.xinScript=null,e.iconList={pets_0:0,pets_1:1,pets_2:2,pets_3:3},e}return i(e,t),e.prototype.init=function(t){var e=a.default.getItem("pets");this.nameLabel.string=p.default.petsMap.get(t).name,this.icon.spriteFrame=this.iconScript[this.iconList[t]],e[t].level<=5?(this.desLabel.node.active=!0,this.desLabel.string="\u8ddd\u79bb\u5ba0\u7269\u5230\u8bbf\u8fd8\u6709"):this.desLabel.node.active=!1;for(var o=0;o<e[t].level-1;o++)this.xinNode.children[o].getComponent(cc.Sprite).spriteFrame=this.xinScript},e.prototype.closeNode=function(){c.default.getInstance().playFx("btn"),s.default.getInstance().heidUi(this.node)},r([d(cc.Label)],e.prototype,"nameLabel",void 0),r([d(cc.Sprite)],e.prototype,"icon",void 0),r([d(cc.Label)],e.prototype,"desLabel",void 0),r([d(cc.Node)],e.prototype,"xinNode",void 0),r([d([cc.SpriteFrame])],e.prototype,"iconScript",void 0),r([d(cc.SpriteFrame)],e.prototype,"xinScript",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../AudioManager":"AudioManager","../PopupManager":"PopupManager","../StoreScript":"StoreScript","../Utils":"Utils"}],PopupSkin:[function(t,e,o){"use strict";cc._RF.push(e,"96de9RbBQZCLLxJJYYs6cqZ","PopupSkin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../EventTarget"),a=t("../PetScript"),p=t("../PopupManager"),l=t("../StoreScript"),u=t("../Utils"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinIcon=null,e.duigou=null,e.nameLabel=null,e.conditionLabel=null,e.skinChackNode=null,e.unlockBtn=null,e.btn=null,e.desLabel=null,e.countLabel=null,e.zhuangBanBtn=null,e.petsPrefab=[],e.skinFrame=[],e.skinSe=null,e.chackTye=0,e.skinVo=null,e.skin=null,e.skinIndex="",e.obj={skin_0:0,skin_1:1,skin_2:2,skin_3:3},e}return i(e,t),e.prototype.start=function(){this.chackTye=0,this.showPetsSkin(this.chackTye)},e.prototype.closeBtn=function(){c.default.getInstance().playFx("btn"),p.default.getInstance().heidUi(this.node)},e.prototype.chackBtn=function(t,e){c.default.getInstance().playFx("btn"),this.chackTye=+e,this.showPetsSkin(this.chackTye)},e.prototype.showPetsSkin=function(t){this.skinVo=u.default.petsMap.get("pets_"+t).skin;var e=l.default.getSkinWearName("pets_"+t);this.skinChackNode.getComponent(cc.ToggleContainer).toggleItems[this.obj[e]].check();for(var o=0;o<this.skinChackNode.childrenCount;o++){var n=this.skinChackNode.children[o];n.petsConf=this.skinVo["skin_"+o],o==this.obj[e]&&(this.skin=n.petsConf,this.updateInfo(this.skin,!0),this.skinIndex=e,console.log(this.skinIndex),this.updateSkin(this.skinIndex))}this.creatorNode("pets_"+t),this.showSe(t)},e.prototype.showSe=function(t){for(var e=0;e<this.skinFrame.length;e++)this.skinFrame[e].spriteFrame=this.skinSe.getSpriteFrame("pets_"+t+"_"+e)},e.prototype.chackSkin=function(t,e){this.skin=t.node.petsConf,this.skinIndex="skin_"+Number(e),this.updateSkin(this.skinIndex),this.showSkin(Number(e))},e.prototype.creatorNode=function(t){this.skinIcon.node.removeAllChildren();var e=u.default.iconList[t],o=cc.instantiate(this.petsPrefab[e]);this.skinIcon.node.addChild(o);var n=l.default.getSkinWearName(t);o.getComponent(a.default).showSkin(this.obj[n])},e.prototype.showSkin=function(t){this.skinIcon.node.children[0].getComponent(a.default).showSkin(t)},e.prototype.updateInfo=function(t,e){this.nameLabel.string=t.skin_name,e?(this.btn.active=!1,this.unlockBtn.active=!1,this.conditionLabel.node.active=!1,this.desLabel.node.active=!1,this.countLabel.node.active=!1):2==t.skin_unlock?(this.btn.active=!1,this.unlockBtn.active=!0,this.conditionLabel.node.active=!0,this.desLabel.node.active=!1,this.conditionLabel.string="\u770b\u89c6\u9891\u89e3\u9501\u76ae\u80a4\uff01",this.countLabel.node.active=!0,this.countLabel.string="0/"+t.skin_num):(l.default.getItem(this.skin.pets+"_"+this.skinIndex)?(this.btn.active=!1,this.desLabel.node.active=!0,this.desLabel.string=""+t.skin_des,this.conditionLabel.node.active=!1,this.countLabel.node.active=!1):(this.btn.active=!0,this.desLabel.node.active=!1,this.conditionLabel.node.active=!0,this.conditionLabel.string="\u770b\u89c6\u9891\u83b7\u53d6\u89e3\u9501\u6761\u4ef6",this.countLabel.string="0/"+t.skin_num,this.countLabel.node.active=!0),this.unlockBtn.active=!1)},e.prototype.videoUnlock=function(){c.default.getInstance().playFx("btn"),l.default.unlockSkin(this.skin.pets,this.skinIndex),this.updateSkin(this.skinIndex),c.default.getInstance().playFx("eff_skinunlock")},e.prototype.videoGetCondition=function(){c.default.getInstance().playFx("btn"),l.default.setItem(this.skin.pets+"_"+this.skinIndex,!0),this.updateSkin(this.skinIndex)},e.prototype.waerClick=function(){c.default.getInstance().playFx("btn"),l.default.wearSkin(this.skin.pets,this.skinIndex),this.updateSkin(this.skinIndex),s.default.emit("updateSkin",this.skin.pets)},e.prototype.updateSkin=function(t){l.default.isSkin(this.skin.pets,t)?(this.updateInfo(this.skin,!0),l.default.isSkinWear(this.skin.pets,t)?(this.zhuangBanBtn.active=!1,this.duigou.active=!0):(this.zhuangBanBtn.active=!0,this.duigou.active=!1)):(this.updateInfo(this.skin,!1),this.zhuangBanBtn.active=!1,this.duigou.active=!1)},r([f(cc.Sprite)],e.prototype,"skinIcon",void 0),r([f(cc.Node)],e.prototype,"duigou",void 0),r([f(cc.Label)],e.prototype,"nameLabel",void 0),r([f(cc.Label)],e.prototype,"conditionLabel",void 0),r([f(cc.Node)],e.prototype,"skinChackNode",void 0),r([f(cc.Node)],e.prototype,"unlockBtn",void 0),r([f(cc.Node)],e.prototype,"btn",void 0),r([f(cc.Label)],e.prototype,"desLabel",void 0),r([f(cc.Label)],e.prototype,"countLabel",void 0),r([f(cc.Node)],e.prototype,"zhuangBanBtn",void 0),r([f([cc.Prefab])],e.prototype,"petsPrefab",void 0),r([f([cc.Sprite])],e.prototype,"skinFrame",void 0),r([f(cc.SpriteAtlas)],e.prototype,"skinSe",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../AudioManager":"AudioManager","../EventTarget":"EventTarget","../PetScript":"PetScript","../PopupManager":"PopupManager","../StoreScript":"StoreScript","../Utils":"Utils"}],PopupUnlock:[function(t,e,o){"use strict";cc._RF.push(e,"731620u+jxLgJENW73Ag9Lo","PopupUnlock");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../EventTarget"),a=t("../PopupManager"),p=t("../StoreScript"),l=t("../Utils"),u=cc._decorator,d=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dosLabel=null,e.unlockIcon=null,e.numLabel=null,e.videoBtn=null,e.coinsBtn=null,e.btnLabel=null,e.data=null,e}return i(e,t),e.prototype.init=function(t){var e=this;this.data=t,this.updateBtn(t.unlock),this.numLabel.string="0/"+t.num,2==t.unlock?(this.dosLabel.string="\u770b\u89c6\u9891\u89e3\u9501\u5bb6\u5177",this.btnLabel.string="\u7acb\u5373\u89c2\u770b"):(this.dosLabel.string="\u82b1\u8d39"+t.num+"\u91d1\u5e01\u89e3\u9501\u5bb6\u5177",this.btnLabel.string="\u7acb\u5373\u83b7\u53d6"),cc.loader.loadRes("texture/"+t.id,cc.SpriteAtlas,function(o,n){e.unlockIcon.spriteFrame=n.getSpriteFrame(t.name)})},e.prototype.closeNode=function(){c.default.getInstance().playFx("btn"),a.default.getInstance().heidUi(this.node)},e.prototype.videoClick=function(){c.default.getInstance().playFx("btn"),p.default.removeItem(this.data.id)},e.prototype.coinsClick=function(){var t;if(c.default.getInstance().playFx("btn"),!l.default.changeCoins(this.data.num,!1))return s.default.emit("tip","\u91d1\u5e01\u4e0d\u8db3"),void a.default.getInstance().heidUi(this.node);c.default.getInstance().playFx("eff_lvup"),this.data.type=1;var e=p.default.getItem(this.data.id);if(e)e[this.data.name]=this.data,p.default.setItem(this.data.id,e);else{var o=((t={})[this.data.name]=this.data,t);p.default.setItem(this.data.id,o)}s.default.emit("unlock",this.data),a.default.getInstance().heidUi(this.node)},e.prototype.updateBtn=function(t){2==t&&(this.coinsBtn.active=!1,this.videoBtn.x=0,this.numLabel.node.active=!0)},r([h(cc.Label)],e.prototype,"dosLabel",void 0),r([h(cc.Sprite)],e.prototype,"unlockIcon",void 0),r([h(cc.Label)],e.prototype,"numLabel",void 0),r([h(cc.Node)],e.prototype,"videoBtn",void 0),r([h(cc.Node)],e.prototype,"coinsBtn",void 0),r([h(cc.Label)],e.prototype,"btnLabel",void 0),r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../AudioManager":"AudioManager","../EventTarget":"EventTarget","../PopupManager":"PopupManager","../StoreScript":"StoreScript","../Utils":"Utils"}],PopupWaterSkin:[function(t,e,o){"use strict";cc._RF.push(e,"0b468B4SEhHXo6pXiFFRB26","PopupWaterSkin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../EventTarget"),a=t("../PopupManager"),p=t("../StoreScript"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.closeNode=function(){c.default.getInstance().playFx("btn"),a.default.getInstance().heidUi(this.node),s.default.emit("closeBox")},e.prototype.videoClick=function(){c.default.getInstance().playFx("btn"),a.default.getInstance().heidUi(this.node),p.default.setItem("boxType",!0),s.default.emit("closeBox")},r([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../AudioManager":"AudioManager","../EventTarget":"EventTarget","../PopupManager":"PopupManager","../StoreScript":"StoreScript"}],SdkManager:[function(t,e,o){"use strict";cc._RF.push(e,"0cff3uEE11K0KXDSDaSgWRe","SdkManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._bActive=!1,this._recorder=null,this._gwVideoAd=null,this._sbVideoAd=null,this._LiwuheVideoAd=null,this._bannerAd=null,this._interstitialAd=null,this.openContinuous=!0,this._continuousTimer=null,this.continuous=!1,this.ismanual=!1}return t.prototype.getGameVideoShow=function(){return this.game_videoshow},t.prototype.getVideoPath=function(){return this._vPath},t.prototype.setVideoPath=function(t){this._vPath=t},t.getInstance=function(){return null==this.instance&&(this.instance=new t,this.instance.init()),this.instance},t.prototype.init=function(){this.game_videoshow=!0,this.video_show=!0,cc.sys.isMobile?this._bActive=!0:this._bActive=!1},t.prototype.onLogin=function(){this._bActive&&tt.login({success:function(t){console.log("login \u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode)},fail:function(){console.log("login\u8c03\u7528\u5931\u8d25")}})},t.prototype.checkSession=function(){this._bActive&&tt.checkSession({success:function(){console.log("session \u672a\u8fc7\u671f")},fail:function(){console.log("session \u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),tt.login({success:function(t){console.log("\u767b\u5f55\u6210\u529f",t)},fail:function(t){console.log("\u767b\u5f55\u5931\u8d25",t)}})}})},t.prototype.initRecorder=function(){var t=this;console.log("init recorder"),this._recorder=tt.getGameRecorderManager(),this._recorder.onStart(function(){t.onRecorderStart()}),this._recorder.onStop(function(e){t.onRecorderStop(e)})},t.prototype.onRecorderStart=function(){console.log("\u5f55\u5c4f\u5f00\u59cb")},t.prototype.onRecorderStop=function(t){this._vPath=t.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f"+t.videoPath),console.log(this.ismanual),this.ismanual},t.prototype.startRecorder=function(){this._bActive&&(this.ismanual=!0,null==this._recorder&&this.initRecorder(),this._recorder.start({duration:300}))},t.prototype.stopRecorder=function(){this._bActive&&(this.ismanual=!1,null==this._recorder&&this.initRecorder(),this._recorder.stop())},t.prototype.shareRecorder=function(){this._bActive&&tt.shareAppMessage({channel:"video",templateId:"1f14aff1hhe1f1hcl2",desc:"",title:"",imageUrl:"",query:"",extra:{withVideoId:!0,videoPath:this._vPath,videoTopics:["\u7f8e\u4e3d\u516c\u4e3b\u7684\u9b54\u6cd5\u7f8e\u5986"],createChallenge:!1,video_title:"\u5feb\u6765\u4e3a\u4f60\u7684\u516c\u4e3b\u5316\u4e0a\u7f8e\u4e3d\u68a6\u5e7b\u7684\u5986\u5bb9\uff0c\u7a7f\u4e0a\u534e\u4e3d\u9ad8\u8d35\u7684\u670d\u88c5\u5427"},success:function(){},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25"+JSON.stringify(t))}})},t.prototype.initGLVideoAd=function(){null==this._gwVideoAd&&(this._gwVideoAd=tt.createRewardedVideoAd({adUnitId:"h82h2gf32a4526dn4m"}),null!=this._gwVideoAd?(this._gwVideoAd.load(),this._gwVideoAd.onClose(function(t){t.isEnded&&console.log(" _gwVideoAd video success")})):console.log("init gw fail"))},t.prototype.initSBVideoAd=function(){var t=this;null==this._sbVideoAd&&(this._sbVideoAd=tt.createRewardedVideoAd({adUnitId:"h82h2gf32a4526dn4m"}),null!=this._sbVideoAd?(this._sbVideoAd.load(),this._sbVideoAd.onClose(function(e){e.isEnded&&t.video_show&&(console.log("_sbVideoAd sb sbvideoid = "+t._sbVideoAd),t.video_show=!1,1==t.sbvideoid?console.log(" _sbVideoAd video success = 1"):2==t.sbvideoid?console.log(" _sbVideoAd video success = 2"):3==t.sbvideoid?console.log(" _sbVideoAd video success = 2"):4==t.sbvideoid&&console.log(" _sbVideoAd video success = 2"))})):console.log("init sb fail"))},t.prototype.initLiwuVideoAd=function(){null==this._LiwuheVideoAd&&(this._LiwuheVideoAd=tt.createRewardedVideoAd({adUnitId:"gqqn0h68h9917l1cv6"}),null!=this._LiwuheVideoAd?(this._LiwuheVideoAd.load(),this._LiwuheVideoAd.onClose(function(t){t.isEnded&&console.log("LiwuVideoAdSuccess")})):console.log("init sb fail"))},t.prototype.showGWVideoAd=function(){this._bActive&&(null!=this._gwVideoAd||(this.initGLVideoAd(),null!=this._gwVideoAd)?this._gwVideoAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t),tt.showModal({title:"\u64ad\u653e\u5e7f\u544a\u5931\u8d25, \u7a0d\u540e\u518d\u8bd5!",content:"",showCancel:!1,success:function(t){t.confirm?console.log("confirm, continued"):t.cancel&&console.log("cancel, cold")},fail:function(){console.log("showModal\u8c03\u7528\u5931\u8d25")}})}):tt.showModal({title:"\u64ad\u653e\u5e7f\u544a\u5931\u8d25, \u7a0d\u540e\u518d\u8bd5!",content:"",confirmText:"\u786e\u5b9a",showCancel:!1,cancelText:"\u53d6\u6d88",success:function(){}}))},t.prototype.showSBVideoAd=function(t){var e=this;this._bActive&&(this.sbvideoid=t,this.video_show=!0,null!=this._sbVideoAd||(this.initSBVideoAd(),null!=this._sbVideoAd)?this._sbVideoAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u98981",t),e.game_videoshow=!1,console.log("getGameVideoShow "+e.game_videoshow),e.game_videoshow||setTimeout(function(){this.game_videoshow=!0}.bind(e),6e4),tt.showModal({title:"\u64ad\u653e\u5e7f\u544a\u5931\u8d25, \u7a0d\u540e\u518d\u8bd5!",content:"",showCancel:!1,success:function(){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)}})}):tt.showModal({title:"\u64ad\u653e\u5e7f\u544a\u5931\u8d25, \u7a0d\u540e\u518d\u8bd5!",content:"",showCancel:!1,success:function(){}}))},t.prototype.showLiwuVideoAd=function(){this._bActive&&(null!=this._LiwuheVideoAd||(this.initLiwuVideoAd(),null!=this._LiwuheVideoAd)?this._LiwuheVideoAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t),tt.showModal({title:"\u64ad\u653e\u5e7f\u544a\u5931\u8d25, \u7a0d\u540e\u518d\u8bd5!",content:"",showCancel:!1,success:function(){}})}):tt.showModal({title:"\u64ad\u653e\u5e7f\u544a\u5931\u8d25, \u7a0d\u540e\u518d\u8bd5!",content:"",showCancel:!1,success:function(){}}))},t.prototype.initBannerAd=function(){var t=this;if(this._bActive&&"Douyin"!==tt.getSystemInfoSync().appName&&null==this._bannerAd){var e=tt.getSystemInfoSync().windowWidth,o=tt.getSystemInfoSync().windowHeight;this._bannerAd=tt.createBannerAd({adUnitId:"c9efr79566b20k36k4",adIntervals:30,style:{width:200,top:o-112.5}}),this._bannerAd.style.left=(e-200)/2,this._bannerAd.onResize(function(n){console.log("onResizewindow = "+n.width,n.height),t._bannerAd.style.top=o-n.height,t._bannerAd.style.left=(e-n.width)/2}),null!=this._bannerAd&&(console.log("windowWidth = "+this._bannerAd.style.left),this._bannerAd.onLoad())}},t.prototype.showBannerAd=function(){this._bActive&&("Douyin"===tt.getSystemInfoSync().appName||(this.initBannerAd(),null!=this._bannerAd&&(console.log("Banner\u5f00\u59cb\u663e\u793a"),this._bannerAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)}))))},t.prototype.hideBannerAd=function(){this._bActive&&("Douyin"===tt.getSystemInfoSync().appName||null!=this._bannerAd&&this._bannerAd.hide())},t.prototype.showInterstitialAd=function(){var t=this;this._bActive&&"Toutiao"===tt.getSystemInfoSync().appName&&(this._interstitialAd&&(this._interstitialAd.destroy(),this._interstitialAd=null),null==this._interstitialAd&&(this._interstitialAd=tt.createInterstitialAd({adUnitId:"g1a9iggf2fbb2l4xuc"})),this._interstitialAd.load().then(function(){t._interstitialAd.show(),console.log("-- TT \u5c55\u793a\u63d2\u5c4f\u5e7f\u544a\u6210\u529f\uff01")}).catch(function(t){console.error("-- TT \u5c55\u793a\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25\uff01err =",t)}))},t.prototype.showRocordText=function(){this._bActive&&tt.showModal({title:"\u5f55\u5c4f\u5931\u8d25:\u5f55\u5c4f\u65f6\u95f4\u5c11\u4e8e3\u79d2.",content:"",confirmText:"\u786e\u5b9a",showCancel:!1,success:function(){}})},t.prototype.StartGameTimer=function(t){this.openContinuous=t,this.continuous=!!this.openContinuous,this.openContinuous&&(this._continuousTimer=setTimeout(function(){this.continuous=!1}.bind(this),3e3))},t.prototype.GetGameTimer=function(){return this.continuous},t.prototype.showMoreGamesModal=function(){this._bActive&&cc.sys.platform===cc.sys.BYTEDANCE_GAME&&(tt.onMoreGamesModalClose(function(t){console.log("modal closed",t)}),tt.onNavigateToMiniGameBox(function(t){console.log(t.errCode),console.log(t.errMsg)}),"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[{appId:"tt30b54608af8ef3b2",query:tt.getLaunchOptionsSync().query.toString(),extraData:{}},{appId:"ttc478b2c55b42c2f9",query:tt.getLaunchOptionsSync().query.toString(),extraData:{}},{appId:"tt00ba76079f81c3be",query:tt.getLaunchOptionsSync().query.toString(),extraData:{}},{appId:"tt387d4ec0a746c646",query:tt.getLaunchOptionsSync().query.toString(),extraData:{}},{appId:"ttb9d5cf6826ee675a",query:tt.getLaunchOptionsSync().query.toString(),extraData:{}}],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}}))},t.instance=null,t}();o.default=n,cc._RF.pop()},{}],StoreScript:[function(t,e,o){"use strict";cc._RF.push(e,"faa07FJg7ZEXIwvtryrF0dG","StoreScript"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Utils"),i=function(){function t(){}return t.setItem=function(t,e){var o=JSON.stringify(e);cc.sys.localStorage.setItem(t,o)},t.getItem=function(t){return JSON.parse(cc.sys.localStorage.getItem(t))},t.setNum=function(t,e){cc.sys.localStorage.setItem(t,e)},t.getNum=function(t){return Number(cc.sys.localStorage.getItem(t))},t.removeItem=function(t){cc.sys.localStorage.removeItem(t)},t.wearSkin=function(t,e){var o=this.getItem("skin"),n=o[t];for(var i in n)n[i].type=i==e?1:0;this.setItem("skin",o)},t.unlockSkin=function(t,e){var o=this.getItem("skin"),n=o[t];for(var i in n)i==e&&(n[i].unlock=1);this.setItem("skin",o)},t.isSkin=function(t,e){var o=this.getItem("skin")[t];for(var n in o)if(e==n&&1==o[n].unlock)return!0;return!1},t.isSkinWear=function(t,e){var o=this.getItem("skin")[t];for(var n in o)if(e==n&&1==o[n].unlock&&1==o[n].type)return!0;return!1},t.getSkinWearName=function(t){var e=this.getItem("skin")[t];for(var o in e)if(1==e[o].unlock&&1==e[o].type)return o;return null},t.getNowSkin=function(t){var e=this.getItem("skin")[t],o=-1;for(var n in e)if(o++,1==e[n].type)return o;return o},t.videoNum=function(t){var e=this.getItem(t);e?(e++,this.setItem(t,e)):this.setItem(t,e)},t.getPetXin=function(t){var e=this.getItem("pets");return n.default.petsMaxLevel-e[t].level+1},t}();o.default=i,cc._RF.pop()},{"./Utils":"Utils"}],UnlockTipScript:[function(t,e,o){"use strict";cc._RF.push(e,"0c6302QNdhGH7kSGtvFXL1P","UnlockTipScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./AudioManager"),s=t("./EventTarget"),a=t("./Utils"),p=cc._decorator,l=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipLabel=null,e.videoNode=null,e.countLabel=null,e}return i(e,t),e.prototype.init=function(t){"home_4"==t?(this.videoNode.active=!0,this.countLabel.node.active=!0,this.tipLabel.string="\u770b\u89c6\u9891\u540e\u89e3\u9501\u5168\u65b0\u5ba0\u7269\u623f\uff01"):(this.videoNode.active=!1,this.countLabel.node.active=!1,this.tipLabel.string="\u83b7\u5f97\u67ef\u57fa\u548c\u67f4\u72ac\u540e\u89e3\u9501\uff01")},e.prototype.lockVideo=function(){c.default.getInstance().playFx("btn"),this.node.active=!1,a.default.addUserHome("home_4"),a.default.addPets("pets_3"),s.default.emit("homeUnlock")},e.prototype.closeBtn=function(){c.default.getInstance().playFx("btn"),this.node.active=!1},r([u(cc.Label)],e.prototype,"tipLabel",void 0),r([u(cc.Node)],e.prototype,"videoNode",void 0),r([u(cc.Label)],e.prototype,"countLabel",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./AudioManager":"AudioManager","./EventTarget":"EventTarget","./Utils":"Utils"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"75c4dgdxAlGAqSbb+nt85eY","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ConfManager"),i=t("./EventTarget"),r=t("./StoreScript"),c=function(){function t(){}return t.loaderConf=function(){var t=this;cc.loader.loadRes(this.urls.level,function(e,o){for(var i in o.json)t.levelMap.set(i,new n.ConfManager(o.json[i]))})},t.homeConf=function(){var t=this;cc.loader.loadRes(this.urls.homeConf,function(e,o){for(var i in o.json)t.homeMap.set(i,new n.homeConf(o.json[i]))})},t.petsConf=function(){var t=this;cc.loader.loadRes(this.urls.petsConf,function(e,o){for(var i in o.json)t.petsMap.set(i,new n.PetsConf(o.json[i]))})},t.randomIndex=function(t){return Math.floor(Math.random()*t)},t.userCoins=function(){return r.default.getNum("coins")||(r.default.setNum("coins",0),0)},t.changeCoins=function(t,e){var o=this.userCoins();if(e)o+=t,r.default.setNum("coins",o);else{if(!(o>=t))return!1;o-=t,r.default.setNum("coins",o)}return i.default.emit("updateCoins",o),!0},t.addPets=function(t){var e=r.default.getItem("pets");e[t]={level:1},r.default.setItem("pets",e)},t.addUserPets=function(t){var e=r.default.getItem("userPets");e?(e.pets.push(t),r.default.setItem("userPets",e)):r.default.setItem("userPets",{pets:[""+t]})},t.addUserHome=function(t){var e=r.default.getItem("userHome");e.home.push(t),r.default.setItem("userHome",e)},t.petsSkin=function(){r.default.getItem("skin")||r.default.setItem("skin",{pets_0:{skin_0:{unlock:1,type:1},skin_1:{unlock:0,type:0},skin_2:{unlock:0,type:0},skin_3:{unlock:0,type:0}},pets_1:{skin_0:{unlock:1,type:1},skin_1:{unlock:0,type:0},skin_2:{unlock:0,type:0},skin_3:{unlock:0,type:0}},pets_2:{skin_0:{unlock:1,type:1},skin_1:{unlock:0,type:0},skin_2:{unlock:0,type:0},skin_3:{unlock:0,type:0}},pets_3:{skin_0:{unlock:1,type:1},skin_1:{unlock:0,type:0},skin_2:{unlock:0,type:0},skin_3:{unlock:0,type:0}}})},t.homeList=["home_1","home_2","home_3","home_4"],t.petsMaxLevel=2,t.homePets={pets_0:"home_1",pets_1:"home_2",pets_2:"home_3",pets_3:"home_4"},t.levelMap=new Map,t.homeMap=new Map,t.petsMap=new Map,t.homePrefabList=[],t.iconList={pets_0:0,pets_1:1,pets_2:2,pets_3:3},t.urls={level:"confs/level",homeConf:"confs/homeConf",petsConf:"confs/petsConf"},t}();o.default=c,cc._RF.pop()},{"./ConfManager":"ConfManager","./EventTarget":"EventTarget","./StoreScript":"StoreScript"}],addCoinsScript:[function(t,e,o){"use strict";cc._RF.push(e,"2cd6aQbIHZPtLk0FEOrOL4B","addCoinsScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Utils"),s=cc._decorator,a=s.ccclass,p=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinsNum=null,e}return i(e,t),e.prototype.init=function(t,e){var o=this;this.coinsNum.string=""+t,cc.tween(this.node).to(1,{y:e+100,opacity:0}).call(function(){c.default.changeCoins(t,!0),o.node.removeFromParent()}).start()},r([p(cc.Label)],e.prototype,"coinsNum",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../Utils":"Utils"}],gameOverScript:[function(t,e,o){"use strict";cc._RF.push(e,"09795kk1D5NBaGJ9gJzzO2q","gameOverScript");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../AudioManager"),s=t("../EventTarget"),a=t("../StoreScript"),p=t("../Utils"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nameLabel=null,e.text_dos=null,e.text_level=null,e.overIcon=null,e.backBtn=null,e.againBtn=null,e.shareBtn=null,e.coinsBtn=null,e.frameList=[],e.petsNameObj={pets_0:"\u67ef\u57fa",pets_1:"\u67f4\u72ac",pets_2:"\u718a\u732b",pets_3:"\u4ed3\u9f20"},e.dosLsit=["\u867d\u7136\u6211\u4e0d\u662f\u4eba\uff0c\u4f46\u662f\u4f60\u771f\u7684\u72d7!","\u90a6\u90a6\u7ed9\u4f60\u4e24\u62f3","\u8fd9\u74f6\u6c34\u5f88\u6df1\uff0c\u4f60\u628a\u63e1\u4e0d\u4f4f!","\u80fd\u8fc7\uff0c\u4f46\u53ea\u80fd\u8fc7\u4e00\u70b9\u70b9"],e.isNewPets="",e}return i(e,t),e.prototype.init=function(t,e,o,n){a.default.getItem("boxType")&&a.default.setItem("boxType",!1),c.default.getInstance().stopMusic(),this.nameLabel=this.petsNameObj[t],n&&o>p.default.petsMaxLevel?(this.text_dos.string="\u83b7\u5f97\u91d1\u5e01!",this.overIcon.spriteFrame=this.frameList[2],this.text_level.string="x "+n,this.coinsBtn.active=!0,this.againBtn.active=!1,this.backBtn.y=-750,p.default.changeCoins(n,!0)):(this.coinsBtn.active=!1,e&&e<100?(c.default.getInstance().playFx("eff_fail"),this.showDos(e),this.shareBtn.active=!1,this.againBtn.active=!0,this.overIcon.spriteFrame=this.frameList[1],this.text_level.string="\u8fd8\u5dee "+a.default.getPetXin(t)+" \u9897\u7231\u5fc3\u5c31\u80fd\u5e26\u5b83\u56de\u5bb6"):(c.default.getInstance().playFx("eff_win"),this.text_dos.string="\u5bf9\u4f60\u597d\u611f\u5ea6\u63d0\u5347\u4e86!",this.shareBtn.active=!0,this.againBtn.active=!1,this.overIcon.spriteFrame=this.frameList[0],this.updatePetsData(t),a.default.getPetXin(t)<=0?this.text_level.string="\u4f60\u53ef\u4ee5\u628a\u5b83\u5e26\u56de\u5bb6\u4e86\uff01":this.text_level.string="\u8fd8\u5dee "+a.default.getPetXin(t)+" \u9897\u7231\u5fc3\u5c31\u80fd\u5e26\u5b83\u56de\u5bb6\uff01"))},e.prototype.updatePetsData=function(t){var e=a.default.getItem("pets");e[t].level<=p.default.petsMaxLevel&&(e[t].level==p.default.petsMaxLevel&&(p.default.addUserPets(t),this.isNewPets=t),e[t].level+=1,a.default.setItem("pets",e));var o=a.default.getItem("userPets");o&&o.pets.indexOf("pets_0")>=0&&o.pets.indexOf("pets_1")>=0&&!e.hasOwnProperty("pets_2")&&(p.default.addUserHome("home_3"),p.default.addPets("pets_2"))},e.prototype.showDos=function(t){var e;e=t<=20?this.dosLsit[0]:t>20&&t<=40?this.dosLsit[1]:t>40&&t<=80?this.dosLsit[2]:this.dosLsit[3],this.text_dos.string=e},e.prototype.backClick=function(){c.default.getInstance().playFx("btn"),s.default.emit("back",this.isNewPets)},e.prototype.gameAgain=function(){c.default.getInstance().playFx("btn"),this.node.active=!1,s.default.emit("again")},e.prototype.coinsClick=function(){c.default.getInstance().playFx("btn")},e.prototype.shareClick=function(){c.default.getInstance().playFx("btn")},r([d(cc.Label)],e.prototype,"nameLabel",void 0),r([d(cc.Label)],e.prototype,"text_dos",void 0),r([d(cc.Label)],e.prototype,"text_level",void 0),r([d(cc.Sprite)],e.prototype,"overIcon",void 0),r([d(cc.Node)],e.prototype,"backBtn",void 0),r([d(cc.Node)],e.prototype,"againBtn",void 0),r([d(cc.Node)],e.prototype,"shareBtn",void 0),r([d(cc.Node)],e.prototype,"coinsBtn",void 0),r([d([cc.SpriteFrame])],e.prototype,"frameList",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../AudioManager":"AudioManager","../EventTarget":"EventTarget","../StoreScript":"StoreScript","../Utils":"Utils"}],water:[function(t,e,o){"use strict";cc._RF.push(e,"f8fd9iliHhPMLAxTrjZmotI","water");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./AudioManager"),s=t("./EventTarget"),a=cc._decorator,p=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){"lian"===t.node.group&&(s.default.emit("collis","lian"),c.default.getInstance().playFx("eff_anger")),"zui"===t.node.group&&(c.default.getInstance().playFx("eff_happy",!0),s.default.emit("collis","zui"),s.default.emit("colBool",!0))},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(t){"lian"===t.node.group&&s.default.emit("collis",""),"zui"===t.node.group&&(s.default.emit("collis",""),s.default.emit("colBool",!1),c.default.getInstance().stopFx("eff_happy"))},r([p],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./AudioManager":"AudioManager","./EventTarget":"EventTarget"}]},{},["AudioManager","ConfManager","EventTarget","HomeScript","LoginScript","MainScript","PetScript","PopupManager","SdkManager","StoreScript","UnlockTipScript","Utils","AtlasItemScript","BottleScript","PopupAtlas","PopupEasterEgg","PopupGame","PopupGetPets","PopupPets","PopupSkin","PopupUnlock","PopupWaterSkin","addCoinsScript","gameOverScript","water"]);